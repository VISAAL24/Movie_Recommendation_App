/* Layout */
html, body, #root { height: 100%; }
#root { width: 100%; margin: 0 auto; padding: 0 1rem; }
.app-layout { display: flex; flex-direction: column; min-height: 100vh; }
.content { display: grid; grid-template-columns: 280px 1fr; gap: 1rem; padding: 1rem 0; }
.content.no-sidebar { grid-template-columns: 1fr; }
.sidebar { position: sticky; top: 64px; align-self: start; height: calc(100vh - 80px); overflow: auto; transform: translateX(0); transition: transform 200ms ease; background: #0d0d0d; border-right: 1px solid #1f1f1f; border-radius: 8px; }
.sidebar.open { transform: translateX(0); }
@media (max-width: 900px) {
  .sidebar { position: fixed; top: 56px; left: 0; height: calc(100vh - 56px); width: 260px; background: #0a0a0a; border-right: 1px solid #222; transform: translateX(-100%); }
  .sidebar.open { transform: translateX(0); }
  .btn.icon { padding: 0.4rem 0.55rem; border-radius: 6px; }
}
.main { padding: 0 0.5rem; }
.page { padding: 1rem; }

/* Navbar */
.navbar { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 1rem; border-bottom: 1px solid #2e2e2e; position: sticky; top: 0; background: #0a0a0a; z-index: 20; width: 100vw; margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw); }
.nav-left { display: flex; align-items: center; gap: 1rem; }
.brand { font-weight: 700; font-size: 1.25rem; }
.navbar a { text-decoration: none; color: inherit; opacity: 0.9; }
.navbar a.active { color: #646cff; opacity: 1; }
.btn { background: #1f1f1f; color: white; border: 1px solid #333; padding: 0.5rem 0.75rem; border-radius: 6px; cursor: pointer; }
.btn.primary { background: #646cff; border-color: #646cff; }

/* Mobile nav drawer */
.nav-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.3); opacity: 0; pointer-events: none; transition: opacity 150ms ease; }
.nav-backdrop.show { opacity: 1; pointer-events: auto; }
.nav-drawer { position: fixed; top: 56px; left: 0; bottom: 0; width: 260px; background: #0c0c0c; border-right: 1px solid #222; transform: translateX(-100%); transition: transform 200ms ease; z-index: 30; }
.nav-drawer.open { transform: translateX(0); }
.nav-drawer-content { display: flex; flex-direction: column; padding: 1rem; gap: 0.5rem; }
.nav-drawer-content a { text-decoration: none; color: #fff; padding: 0.5rem; border-radius: 6px; }
.nav-drawer-content a:hover { background: #141414; }

/* Sidebar */
.genre-sidebar h3 { margin: 0 0 0.5rem 0; }
.genre-sidebar ul { list-style: none; padding: 0; margin: 0; display: grid; gap: 0.25rem; }
.genre-sidebar label { display: flex; gap: 0.5rem; align-items: center; cursor: pointer; }
.genre-sidebar .error { color: #ff6b6b; font-size: 0.9rem; }

/* Home grid */
.home .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 1rem; }
.movie-card { background: #111; border: 1px solid #222; border-radius: 10px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
.movie-card:hover { transform: scale(1.04); box-shadow: 0 8px 24px rgba(34, 40, 58, 0.18); z-index: 2; }
.movie-card img { width: 100%; display: block; aspect-ratio: 2/3; object-fit: cover; }
.movie-card .info { padding: 0.5rem; }
.movie-card h4 { margin: 0.25rem 0; font-size: 1rem; }

/* Auth */
.auth-container { min-height: calc(100vh - 64px); display: grid; place-items: center; padding: 1rem 0; }
.auth-card { width: 100%; max-width: 560px; background: #111; border: 1px solid #222; border-radius: 14px; padding: 1.5rem; box-shadow: 0 6px 24px rgba(0,0,0,0.35); }
.auth-form { display: grid; gap: 0.75rem; }
.form-group { display: grid; gap: 0.25rem; text-align: left; }
.form-group input { padding: 0.6rem 0.75rem; border-radius: 8px; border: 1px solid #333; background: #0f0f0f; color: #fff; }
.error-message { background: #3b0d0d; color: #ffb3b3; border: 1px solid #5b1a1a; padding: 0.5rem 0.75rem; border-radius: 8px; margin-bottom: 0.75rem; }
.auth-switch { margin-top: 0.75rem; }

/* Search bar */
.search-bar { display: flex; gap: 0.5rem; margin: 0 0 1rem 0; }
.search-bar input { flex: 1; padding: 0.6rem 0.75rem; border-radius: 8px; border: 1px solid #333; background: #0f0f0f; color: #fff; }
.search-bar button { padding: 0.6rem 0.9rem; border-radius: 8px; border: 1px solid #646cff; background: #646cff; color: #fff; cursor: pointer; transition: background-color 150ms ease, box-shadow 150ms ease; }
.search-bar button:hover { background: #545bf2; border-color: #545bf2; }
.search-bar button:focus-visible { outline: 2px solid #a5a9ff; outline-offset: 2px; }

@media (max-width: 900px) {
  .content { grid-template-columns: 1fr; }
  .sidebar { position: static; }
}
